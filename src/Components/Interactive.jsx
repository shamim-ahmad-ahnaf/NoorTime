import React, { useState, useEffect, useRef } from "react";
import RevealOnScroll from "../Context/RevealOnScroll";

const quizTopics = {
  "ЁЯза рж╕рзНрж░рж╖рзНржЯрж╛ ржУ рж╕рзГрж╖рзНржЯрж┐": [
    { question: "ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзГрж╖рзНржЯ ржкрзНрж░ржержо ржЬрж┐ржирж┐рж╕ ржХрзЛржиржЯрж┐?", options: ["ржирзВрж░", "ржХрж▓ржо", "ржЖрж░рж╢"], answer: 1 },
    { question: "рж╕рзГрж╖рзНржЯрж┐рж░ рж╕рзЗрж░рж╛ ржХрзЗ?", options: ["ржлрзЗрж░рзЗрж╢рждрж╛", "ржорж╛ржиржмржЬрж╛рждрж┐", "ржЬрж┐ржи"], answer: 1 },
    { question: "ржЖрж▓рзНрж▓рж╛рж╣ ржХрзЗржоржи?", options: ["ржорж╛ржиржмрзЗрж░ ржорждрзЛ", "ржЕржжрзГрж╢рзНржп ржУ ржЕржирзБржкржо", "ржЬрж┐ржирзЗрж░ ржорждрзЛ"], answer: 1 },
    { question: "ржХрж▓ржорзЗрж░ ржорж╛ржзрзНржпржорзЗ ржХрж┐ рж╕рзГрж╖рзНржЯ рж╣рзЯрзЗржЫрж┐рж▓?", options: ["ржЬрзАржм", "ржирзВрж░", "ржЬрзНржЮрж╛ржи"], answer: 2 },
    { question: "ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзГрж╖рзНржЯрж┐рж░ ржХрзЛржиржЯрж┐ ржкрзНрж░ржержо?", options: ["ржЖрж▓рж╛ржХ", "ржХрж▓ржо", "ржЖржХрж╛рж╢"], answer: 1 },
    { question: "рж╕рзГрж╖рзНржЯрж┐рж░ ржоржзрзНржпрзЗ ржорж╛ржиржмрзЗрж░ рж╕рзНржерж╛ржи ржХрзА?", options: ["рж╕рзЗрж░рж╛", "ржжрзНржмрж┐рждрзАрзЯ", "рждрзГрждрзАрзЯ"], answer: 0 },
    { question: "ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЕржжрзГрж╢рзНржп ржУ ржЕржирзБржкржо ржЧрзБржг ржХрзЛржиржЯрж┐?", options: ["ржорж╛ржиржмрж╕ржжрзГрж╢", "ржЕржиржирзНржд ржУ ржЕрж╕рзАржо", "ржЕрж╕рзНржерж┐рж░ ржУ ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓"], answer: 1 },
  ],

  "ЁЯУЬ ржиржмрж┐ ржУ рж░рж╛рж╕рзВрж▓": [
    { question: "ржХрждржЬржи ржиржмрзА ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ?", options: ["рзз рж▓ржХрзНрж╖ рзирзк рж╣рж╛ржЬрж╛рж░", "рзирзл ржЬржи", "рзйрззрзй ржЬржи"], answer: 0 },
    { question: "рж╢рзЗрж╖ рж░рж╛рж╕рзВрж▓ ржХрзЗ ржЫрж┐рж▓рзЗржи?", options: ["ржЗрж╕рж╛ ржЖ: ", "ржорзВрж╕рж╛ ржЖ:", "ржорзБрж╣рж╛ржорзНржоржж я╖║"], answer: 2 },
    { question: "ржорзВрж╕рж╛ ржЖржГ ржХрзЛржи ржХрж┐рждрж╛ржм ржкрзЗржпрж╝рзЗржЫрж┐рж▓рзЗржи?", options: ["ржпржмрзБрж░", "рждрж╛ржУрж░рж╛ржд", "ржЗржЮрзНржЬрж┐рж▓"], answer: 1 },
    { question: "ржиржмрзАржжрзЗрж░ ржХрждржЬржирзЗрж░ ржирж╛ржо ржХрзЛрж░ржЖржирзЗ ржПрж╕рзЗржЫрзЗ?", options: ["рзирзл", "рзйрзж", "рзлрзж"], answer: 0 },
    { question: "ржорзБрж╣рж╛ржорзНржоржж я╖║ ржХржд ржмржЫрж░ ржиржмрзБржпрж╝ржд рж▓рж╛ржн ржХрж░рзЗржи?", options: ["рзирзй ржмржЫрж░", "рзкрзж ржмржЫрж░", "рзйрзж ржмржЫрж░"], answer: 0 },
    { question: "ржЗрж╕рж╛ ржЖржГ ржХрж┐рж╕рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЬржирзНржоржЧрзНрж░рж╣ржг ржХрж░рзЗржи?", options: ["ржорж╛ржиржм ржкрж┐рждрж╛рж░ ржорж╛ржзрзНржпржорзЗ", "ржорж╛рждрж╛рж░ ржорж╛ржзрзНржпржорзЗ", "ржмрж┐ржирж╛ ржкрж┐рждрж╛ ржУ ржорж╛рждрж╛рж░ ржорж╛ржзрзНржпржорзЗ"], answer: 2 },
    { question: "ржиржмрзА рж╣ржпрж░ржд ржЗржЙржирзБрж╕ ржЖржГ ржХрзЛржи ржкрзНрж░рж╛ржгрзАрж░ ржкрзЗржЯрзЗ ржЫрж┐рж▓рзЗржи?", options: ["рж╕рж┐ржВрж╣", "ржорж╛ржЫ", "ржмрж╛ржШ"], answer: 1 },
  ],

  "ЁЯС╝ ржлрзЗрж░рзЗрж╢рждрж╛ ржУ ржЬрж┐ржи": [
    { question: "ржЬрж┐ржмрж░рж╛ржЗрж▓ ржЖржГ ржПрж░ ржжрж╛ржпрж╝рж┐рждрзНржм ржХрзА ржЫрж┐рж▓?", options: ["рж░рж┐ржпрж┐ржХ ржкрзМржБржЫрж╛ржирзЛ", "ржУрж╣рж┐ ржирж┐ржпрж╝рзЗ ржЖрж╕рж╛", "ржорзГрждрзНржпрзБ ржЧрзНрж░рж╣ржг"], answer: 1 },
    { question: "ржЗржмрж▓рж┐рж╕ ржХрзА ржЫрж┐рж▓рзЗржи?", options: ["ржорж╛ржирзБрж╖", "ржлрзЗрж░рзЗрж╢рждрж╛", "ржЬрж┐ржи"], answer: 2 },
    { question: "ржорж╛рж▓рж╛ржХрзБрж▓ ржорж╛ржУржд ржХрж╛ржХрзЗ ржмрж▓рж╛ рж╣ржпрж╝?", options: ["ржЬрж┐ржмрж░рж╛ржЗрж▓", "ржЖржЬрж░рж╛ржИрж▓", "ржорж┐ржХрж╛ржИрж▓"], answer: 1 },
    { question: "ржлрзЗрж░рзЗрж╢рждрж╛ржжрзЗрж░ рж╕рзГрж╖рзНржЯрж┐ ржХрж┐ ржЙржкрж╛ржжрж╛ржи ржерзЗржХрзЗ?", options: ["ржЖрж▓рзЛрж░", "ржорж╛ржЯрж┐рж░", "ржЖржЧрзБржирзЗрж░"], answer: 0 },
    { question: "ржЬрж┐ржирзЗрж░ рж╕рзГрж╖рзНржЯрж┐ ржХрзА ржерзЗржХрзЗ?", options: ["ржЖржЧрзБржирзЗрж░", "ржкрж╛ржирж┐рж░", "ржорж╛ржЯрж┐рж░"], answer: 0 },
    { question: "ржЗржмрж▓рж┐рж╕ ржХрзЗржи рж╕рж┐ржЬржжрж╛ ржХрж░рзЗржирж┐?", options: ["ржЕрж╣ржВржХрж╛рж░рзЗ", "ржнрзЯрзЗрж░ ржХрж╛рж░ржгрзЗ", "ржЖржжрзЗрж╢ ржнрзБрж▓рзЗ ржЧрж┐рзЯрзЗржЫрж┐рж▓"], answer: 0 },
    { question: "ржорж╛рж▓рж╛ржХрзБрж▓ ржорж╛ржУрждрзЗрж░ ржХрж╛ржЬ ржХрзА?", options: ["ржЬрзАржмржирзЗрж░ рж╕рзНрж░рзЛржд ржмржЬрж╛рзЯ рж░рж╛ржЦрж╛", "ржорзГрждрзНржпрзБ ржЧрзНрж░рж╣ржг", "ржорж╛ржирзБрж╖ржХрзЗ рж░ржХрзНрж╖рж╛ ржХрж░рж╛"], answer: 1 },
  ],

  "ЁЯХМ рж╕рж╛рж╣рж╛ржмрж╛ ржУ ржоржирж┐рж╖рзА": [
    { question: "ржкрзНрж░ржержо ржЦрж▓рж┐ржлрж╛ ржХрзЗ ржЫрж┐рж▓рзЗржи?", options: ["ржЙржорж░ рж░рж╛:", "ржЖржмрзБ ржмржХрж░ рж░рж╛:", "ржУрж╕ржорж╛ржи рж░рж╛:"], answer: 1 },
    { question: "ржХрзЗ рж░рж╛рж╕рзВрж▓ я╖║ ржПрж░ ржШржирж┐рж╖рзНржа ржмржирзНржзрзБ ржЫрж┐рж▓рзЗржи?", options: ["ржЙржорж░ рж░рж╛:", "ржЖржмрзБ ржмржХрж░ рж░рж╛:", "ржЖрж▓рзА рж░рж╛:"], answer: 1 },
    { question: "ржЗржорж╛ржо ржЖржмрзБ рж╣рж╛ржирж┐ржлрж╛ ржХрзЛржерж╛рзЯ ржЬржирзНржоржЧрзНрж░рж╣ржг ржХрж░рзЗржи?", options: ["ржмрж╛ржЧржжрж╛ржж", "ржХрзБржлрж╛", "ржоржХрзНржХрж╛"], answer: 1 },
    { question: "ржЦрж▓рж┐ржлрж╛ ржУрж╕ржорж╛ржи рж░рж╛: ржХрзЛржи ржХрж┐рждрж╛ржмрзЗрж░ рж╕ржВржХрж▓ржХ ржЫрж┐рж▓рзЗржи?", options: ["ржХрзЛрж░ржЖржи", "рж╣рж╛ржжрж┐рж╕", "рждрж╛ржУрж░рж╛ржд"], answer: 0 },
    { question: "рж╕рж╛рж╣рж╛ржмрж╛ржжрзЗрж░ ржоржзрзНржпрзЗ ржкрзНрж░ржержо рж╢рж╣рзАржж ржХрзЗ?", options: ["ржЙрж╕ржорж╛ржи рж░рж╛:", "рж╣рж╛ржоржЬрж╛ рж░рж╛:", "ржмрж┐рж▓рж╛рж▓ рж░рж╛:"], answer: 1 },
    { question: "ржЖрж▓рзА рж░рж╛: ржХрзЛржи ржпрзБржжрзНржзрзЗрж░ рж╕ржорзЯ рж╢рж╣рзАржж рж╣ржи?", options: ["ржХрзБрзЯрж╛ржж ржпрзБржжрзНржз", "ржмржжрж░ ржпрзБржжрзНржз", "ржЦржирзНржжржХ ржпрзБржжрзНржз"], answer: 0 },
    { question: "рж╕рж╛рж╣рж╛ржмрж╛ржжрзЗрж░ ржоржзрзНржпрзЗ ржХрж╛ржжрзЗрж░ржХрзЗ 'ржЖрж╢рж╣рж╛ржмрзБрж╢ рж╢рзВрж░рж╛' ржмрж▓рж╛ рж╣рзЯ?", options: ["ржжрзНржмрж╛ржжрж╢ ржЦрж▓рж┐ржлрж╛рж░рж╛", "рж░рж╛рж╕рзВрж▓рзЗрж░ ржкрж░рж╛ржорж░рзНрж╢ржжрж╛рждрж╛", "ржпрзБржжрзНржзрзЗрж░ рж╕рзИржирж┐ржХ"], answer: 1 },
  ],

  "ЁЯзн ржЗржорж╛ржи ржУ ржЖржХрж┐ржжрж╛": [
    { question: "ржЗржорж╛ржирзЗрж░ ржХрждржЯрж┐ рж░рзБржХржи ржЖржЫрзЗ?", options: ["рзйржЯрж┐", "рзлржЯрж┐", "рзмржЯрж┐"], answer: 2 },
    { question: "ржЖржХрж┐ржжрж╛ ржмрж▓рждрзЗ ржХрзА ржмрзЛржЭрж╛ржпрж╝?", options: ["ржмрж┐рж╢рзНржмрж╛рж╕", "ржЗржмрж╛ржжржд", "ржЖржЪрж╛рж░"], answer: 0 },
    { question: "ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЧрзБржгржмрж╛ржЪржХ ржирж╛ржо ржХрждржЯрж┐?", options: ["рзпрзпржЯрж┐", "рззрзжрзжржЯрж┐", "рзпрзлржЯрж┐"], answer: 0 },
    { question: "ржЗржорж╛ржирзЗрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рж░рзБржХржи ржХрзЛржиржЯрж┐?", options: ["рждрж╛ржУрж╣рж┐ржж", "ржиржмрзА ржорж╛ржирзНржпрждрж╛", "ржХрж┐рзЯрж╛ржоржд"], answer: 0 },
    { question: "ржорж╛рж▓рж╛ржЗржХрж╛ржЧржг ржмрж┐рж╢рзНржмрж╛рж╕ ржЗржорж╛ржирзЗрж░ ржХрзЛржи рж░рзБржХржи?", options: ["рзирзЯ", "рзйрзЯ", "рзкрж░рзНрже"], answer: 2 },
    { question: "ржЗржорж╛ржи ржХрж┐ рж╢рзБржзрзБ ржнрж╛рж╖рж╛ржЧржд рж╕рзНржмрзАржХрж╛рж░рзЛржХрзНрждрж┐?", options: ["рж╣рзНржпрж╛ржБ", "ржирж╛", "ржорж╛ржЭрзЗржоржзрзНржпрзЗ"], answer: 1 },
    { question: "ржЖржХрж┐ржжрж╛рж░ ржкрзНрж░ржзрж╛ржи ржЙрзОрж╕ ржХрзА?", options: ["ржХрзЛрж░ржЖржи ржУ рж╣рж╛ржжрж┐рж╕", "ржРрждрж┐рж╣рзНржп", "ржорж╛ржиржм рж╕ржнрзНржпрждрж╛"], answer: 0 },
  ],

  "ЁЯУЦ ржХрзЛрж░ржЖржи ржУ рж╣рж╛ржжрж┐рж╕": [
    { question: "ржХрзЛрж░ржЖржи ржХрзЗ ржЕржмрждрзАрж░рзНржг ржХрж░рзЗржЫрзЗржи?", options: ["ржЬрж┐ржмрж░рж╛ржЗрж▓ ржЖ:", "ржорзБрж╣рж╛ржорзНржоржж я╖║", "ржЖрж▓рзНрж▓рж╛рж╣"], answer: 2 },
    { question: "рж╣рж╛ржжрж┐рж╕рзЗрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржкрзНрж░рж╕рж┐ржжрзНржз рж╕ржВржХрж▓ржи ржХрзЛржиржЯрж┐?", options: ["рж╕рж╣рзАрж╣ ржмрзБржЦрж╛рж░рзА", "рждрж┐рж░ржорж┐ржпрзА", "ржирж╛рж╕рж╛ржИ"], answer: 0 },
    { question: "ржХрзЛрж░ржЖржи ржХрзА ржнрж╛рж╖рж╛ржпрж╝ ржирж╛ржЬрж┐рж▓ рж╣ржпрж╝рзЗржЫрзЗ?", options: ["ржЖрж░ржмрж┐", "ржлрж╛рж░рж╕рж┐", "рж╣рж┐ржмрзНрж░рзБ"], answer: 0 },
    { question: "ржХрзЛрж░ржЖржирзЗрж░ ржорзЛржЯ ржЖрзЯрж╛рждрзЗрж░ рж╕ржВржЦрзНржпрж╛ ржХржд?", options: ["рзмрзирзйрзм", "рзмрзкрзйрзм", "рзмрзлрзжрзж"], answer: 0 },
    { question: "ржХрзЛрж░ржЖржирзЗ рж╕рж░рзНржмржкрзНрж░ржержо ржЕржмрждрзАрж░рзНржг ржЖрзЯрж╛ржд ржХрзЛржи рж╕рзВрж░рж╛рж░?", options: ["рж╕рзВрж░рж╛ ржЖрж▓рж╛ржХ", "рж╕рзВрж░рж╛ ржлрж╛рждрж┐рж╣рж╛", "рж╕рзВрж░рж╛ ржмрж╛ржХрж╛рж░рж╛"], answer: 0 },
    { question: "рж╣рж╛ржжрж┐рж╕ рж╕ржВржХрж▓ржХ ржЗржорж╛ржо ржмрзБржЦрж╛рж░рзАрж░ ржкрзВрж░рзНржг ржирж╛ржо ржХрзА?", options: ["ржорзБрж╣рж╛ржорзНржоржж ржЗржмржирзЗ ржЗрж╕╨╝╨░рзЯрж┐рж▓", "ржорзБрж╣рж╛ржорзНржоржж ржЗржмржирзЗ ржорж╛рж░ржУрзЯрж╛ржи", "ржорзБрж╣рж╛ржорзНржоржж ржЗржмржирзЗ ржЖржмрзНржжрзБрж▓рзНрж▓рж╛рж╣"], answer: 0 },
    { question: "ржХрзЛрж░ржЖржи ржирж╛ржЬрж┐рж▓ рж╣ржУржпрж╝рж╛рж░ рж╕ржоржпрж╝ ржХржд ржмржЫрж░ рж╕ржоржпрж╝ рж▓рзЗржЧрзЗржЫрж┐рж▓?", options: ["рзирзй ржмржЫрж░", "рззрзй ржмржЫрж░", "рзйрзж ржмржЫрж░"], answer: 0 },
  ],

  "ЁЯХЛ ржирж╛ржорж╛ржЬ ржУ рж░рзЛржЬрж╛": [
    { question: "ржирж╛ржорж╛ржЬрзЗрж░ ржлрж░ржЬ рж░рж╛ржХрж╛ржд ржХржпрж╝ржЯрж┐?", options: ["рззрзл", "рззрзн", "рзирзж"], answer: 1 },
    { question: "рж░рзЛржЬрж╛ рж░рж╛ржЦрж╛ ржлрж░ржЬ рж╣ржпрж╝ ржХрзЛржи ржорж╛рж╕рзЗ?", options: ["ржорзБрж╣рж╛рж░рж░ржо", "рж░ржЬржм", "рж░ржоржЬрж╛ржи"], answer: 2 },
    { question: "рж░рзЛржЬрж╛рж░ ржирж┐ржпрж╝ржд ржХржЦржи ржХрж░рждрзЗ рж╣ржпрж╝?", options: ["ржЗржлрждрж╛рж░рзЗрж░ рж╕ржоржпрж╝", "рж╕рзЗрж╣рж░рж┐рж░ рж╕ржоржпрж╝", "ржирж╛ржорж╛ржЬрзЗрж░ рж╕ржоржпрж╝"], answer: 1 },
    { question: "ржХрж╛ржжрзЗрж░ ржЬржирзНржп рж░рзЛржЬрж╛ рж░рж╛ржЦрж╛ ржлрж░ржЬ ржиржпрж╝?", options: ["ржмрж╛ржЪрзНржЪрж╛ржжрзЗрж░", "ржкрж╛ржЧрж▓ржжрзЗрж░", "ржмрзГржжрзНржзржжрзЗрж░"], answer: 1 },
    { question: "ржирж╛ржорж╛ржЬрзЗрж░ ржЖржЧрзЗ ржЬрж╛ржорж╛ржд ржЖржжрж╛ржпрж╝ ржХрж░рж╛рж░ ржирж╛ржо ржХрж┐?", options: ["ржлржЬрж░", "ржпрзЛрж╣рж░", "ржЖрж╕рж░"], answer: 0 },
    { question: "рж╕рзВрж░рзНржпрзЛржжржпрж╝рзЗрж░ ржЖржЧрзЗ ржирж╛ржорж╛ржЬрзЗрж░ ржирж╛ржо ржХрзА?", options: ["рждрж╛рж╣ржЬрзБржж", "ржлржЬрж░", "ржжрзБржЖ"], answer: 1 },
    { question: "ржИржжрзБрж▓ ржлрж┐рждрж░рзЗрж░ ржжрж┐ржи ржХрзЛржи ржирж╛ржорж╛ржЬ ржЖржжрж╛ржпрж╝ ржХрж░рж╛ рж╣ржпрж╝?", options: ["ржИржж ржирж╛ржорж╛ржЬ", "ржЬрзБржорж╛ ржирж╛ржорж╛ржЬ", "рждрзЗрж╣рж╛ржЬрзНржЬрзБржж ржирж╛ржорж╛ржЬ"], answer: 0 },
  ],

  "ЁЯд▓ ржжрзЛрзЯрж╛ ржУ ржорж╛рж╕рж╛рзЯрзЗрж▓": [
    { question: "ржЗржлрждрж╛рж░рзЗрж░ рж╕ржорзЯ ржХрзЛржи ржжрзЛржпрж╝рж╛ ржкржбрж╝рж╛ рж╣ржпрж╝?", options: ["╪з┘Д┘Д┘З┘Е ┘Д┘Г ╪╡┘Е╪к", "╪│╪и╪н╪з┘Ж ╪з┘Д┘Д┘З", "╪з┘Д╪н┘Е╪п ┘Д┘Д┘З"], answer: 0 },
    { question: "ржорж╛рж╕рж╛ржпрж╝рзЗрж▓ ржмрж▓рждрзЗ ржХрзА ржмрзЛржЭрж╛ржпрж╝?", options: ["рж╕ржорж╕рзНржпрж╛ ржУ рж╕ржорж╛ржзрж╛ржи", "ржЗржмрж╛ржжржд", "рж╕рзНржорж░ржг"], answer: 0 },
    { question: "ржЛрждрзБржмрждрзА ржорж╣рж┐рж▓рж╛рж░ ржирж╛ржорж╛ржЬ ржкржбрж╝рж╛ ржХрж┐ ржЬрж░рзБрж░рж┐?", options: ["рж╣рзНржпрж╛ржБ", "ржирж╛", "ржорж╛ржЭрзЗ ржорж╛ржЭрзЗ"], answer: 1 },
    { question: "ржжрзЛржпрж╝рж╛ ржХржмрзБрж▓ рж╣ржУрзЯрж╛рж░ ржкрзНрж░ржзрж╛ржи рж╢рж░рзНржд ржХрзА?", options: ["ржмрж┐рж╢рзНржмрж╛рж╕ ржУ ржнрж░рж╕рж╛", "ржжрзНрж░рзБржд ржкржбрж╝рж╛", "ржЙржЪрзНржЪ ржХржгрзНржарзЗ ржкржбрж╝рж╛"], answer: 0 },
    { question: "ржирж╛ржорж╛ржЬрзЗрж░ ржкрж░рзЗ ржХрзЛржи ржжрзЛржпрж╝рж╛ ржкржбрж╝рж╛ ржЙрждрзНрждржо?", options: ["ржЖрж╕рзНрждрж╛ржЧржлрж┐рж░рзБрж▓рзНрж▓рж╛рж╣", "ржжрзЛржпрж╝рж╛", "рждрж╛рж╣рж▓рзАрж▓"], answer: 1 },
    { question: "ржжрзЛржпрж╝рж╛ ржмрзЗрж╢рж┐ ржХржмрзБрж▓ рж╣рзЯ ржХржЦржи?", options: ["рж░рж╛рждрзЗрж░ рж╢рзЗрж╖ ржЕржВрж╢рзЗ", "ржЬрзБржорж╛рж░ ржжрж┐ржи", "ржИржжрзЗрж░ ржжрж┐ржи"], answer: 0 },
    { question: "ржЗржлрждрж╛рж░рзЗрж░ рж╕ржорзЯ ржХрзЛржи ржжрзЛрзЯрж╛ ржкрзЬрж╛ рж╣рзЯ?", options: ["╪з┘Д┘Д┘З┘Е ┘Д┘Г ╪╡┘Е╪к", "╪│╪и╪н╪з┘Ж ╪з┘Д┘Д┘З", "╪з┘Д╪н┘Е╪п ┘Д┘Д┘З"], answer: 0 },
  ],

  "тЪ░я╕П ржХржмрж░ ржУ ржЖржЦрж┐рж░рж╛ржд": [
    { question: "ржХржмрж░ ржкрзНрж░рж╢рзНржи ржХрзЗ ржХрж░рзЗ?", options: ["ржорж╛ржирзБрж╖", "ржлрзЗрж░рзЗрж╢рждрж╛", "ржЬрж┐ржи"], answer: 1 },
    { question: "ржХрзЗ ржЬрж╛ржирзНржирж╛ржд ржУ ржЬрж╛рж╣рж╛ржирзНржирж╛ржорзЗрж░ ржлржпрж╝рж╕рж╛рж▓рж╛ ржжрзЗржмрзЗржи?", options: ["ржиржмрзА", "ржЖрж▓рзНрж▓рж╛рж╣", "ржлрзЗрж░рзЗрж╢рждрж╛"], answer: 1 },
    { question: "ржкрзБржирж░рзБрждрзНржерж╛ржи рж╣ржмрзЗ ржХржмрзЗ?", options: ["ржХрзЗрзЯрж╛ржорждрзЗрж░ ржжрж┐ржи", "ржЬрж╛ржирж╛ржЬрж╛рж░ рж╕ржоржпрж╝", "ржЬрзБржорж╛рж░ ржжрж┐ржи"], answer: 0 },
    { question: "ржХржмрж░рзЗрж░ ржорж╛ржЬрж╛рж░рзЗ рждрж╛ржмрзБ рж╕рзНржерж╛ржкржи ржХрж░рж╛ ржпрж╛ржмрзЗ ржХрж┐?", options: ["рж╣рзНржпрж╛ржБ", "ржирж╛", "рж╢рж░рзНрждрж╕рж╛ржкрзЗржХрзНрж╖рзЗ"], answer: 1 },
    { question: "ржЖржЦрж┐рж░рж╛рждрзЗ ржирзЗржХрж╛ржорждржжрзЗрж░ ржкрзБрж░рж╕рзНржХрж╛рж░ ржХрзА?", options: ["ржЬрж╛ржирзНржирж╛ржд", "ржЬрж╛рж╣рж╛ржирзНржирж╛ржо", "ржлрзЗрж░рзЗрж╢рждрж╛ржжрзЗрж░ рж╕ржЩрзНржЧ"], answer: 0 },
    { question: "ржЬрж╛ржирзНржирж╛рждрзЗрж░ ржжрж░ржЬрж╛ ржХрзЯржЯрж┐?", options: ["рзн", "рзл", "рззрзж"], answer: 0 },
    { question: "ржорзБржорж┐ржирзЗрж░ ржорзГрждрзНржпрзБ ржкрж░ржмрж░рзНрждрзА ржЕржмрж╕рзНржерж╛ ржХрзА?", options: ["ржХржмрж░рзЗрж░ ржЬрзАржмржи", "ржкрзГржерж┐ржмрзАрждрзЗ ржлрж┐рж░рзЗ ржЖрж╕рж╛", "рж╕рж░рж╛рж╕рж░рж┐ ржЬрж╛ржирзНржирж╛рждрзЗ ржпрж╛ржУрзЯрж╛"], answer: 0 },
  ],

  "ЁЯПЮя╕П ржЬрж╛ржирзНржирж╛ржд ржУ ржЬрж╛рж╣рж╛ржирзНржирж╛ржо": [
    { question: "ржЬрж╛ржирзНржирж╛рждрж┐ржжрзЗрж░ ржкрзНрж░ржержо ржЦрж╛ржмрж╛рж░ ржХрзА рж╣ржмрзЗ?", options: ["ржоржзрзБ", "ржорж╛ржЫрзЗрж░ ржХрж▓рж┐ржЬрж╛", "ржжрзБржз"], answer: 1 },
    { question: "ржЬрж╛рж╣рж╛ржирзНржирж╛ржорзЗрж░ ржкрж╛рж╣рж╛рж░рж╛ржжрж╛рж░ ржлрзЗрж░рзЗрж╢рждрж╛ ржХрзЗ?", options: ["ржЖржЬрж░рж╛ржИрж▓", "ржорж╛рж▓рж┐ржХ", "ржорзБржиржХрж╛рж░"], answer: 1 },
    { question: "ржЬрж╛ржирзНржирж╛рждрзЗ ржкрзНрж░ржмрзЗрж╢ ржХрж░ржмрзЗ ржХрж╛рж░рж╛?", options: ["ржзржирзА рж▓рзЛржХрзЗрж░рж╛", "ржЖрж▓рзНрж▓рж╛рж╣ржнрзАрж░рзБ ржорзБржорж┐ржирж░рж╛", "рж╕ржм ржорзБрж╕рж▓рж┐ржо"], answer: 1 },
    { question: "ржЬрж╛ржирзНржирж╛рждрзЗрж░ ржмрж░рзНржгржирж╛ ржХрзЛржерж╛ржпрж╝ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝?", options: ["ржХрзЛрж░ржЖржи ржУ рж╣рж╛ржжрж┐рж╕", "ржЗрждрж┐рж╣рж╛рж╕рзЗрж░ ржмржЗ", "рж▓рзЛржХржХржерж╛"], answer: 0 },
    { question: "ржЬрж╛ржирзНржирж╛рждрзЗрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ ржЙржкрж╣рж╛рж░ ржХрзА?", options: ["ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐", "ржзржи-рж╕ржорзНржкржж", "рж░рж╛ржЬрждрзНржм"], answer: 0 },
    { question: "ржЬрж╛рж╣рж╛ржирзНржирж╛ржо ржерзЗржХрзЗ ржорзБржХрзНрждрж┐рж░ ржЙржкрж╛ржпрж╝ ржХрзА?", options: ["рждрж╛ржУржмрж╛ ржУ ржЗржорж╛ржи", "ржЬрж╛ржжрзБ", "ржпрзБржжрзНржз"], answer: 0 },
    { question: "ржЬрж╛ржирзНржирж╛рждрзЗрж░ ржХрзЛржи ржЧрзБржгрж╛ржмрж▓рж┐ рж╕ржмржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐ ржкрзНрж░рж╢ржВрж╕рж┐ржд?", options: ["ржЪрж┐рж░рж╕рзНржерж╛ржпрж╝рж┐рждрзНржм", "рж╕рзМржирзНржжрж░рзНржп", "рж╢рж╛ржирзНрждрж┐"], answer: 0 },
  ]
};


function Quiz({ questions, onClose }) {
  const [currentQ, setCurrentQ] = React.useState(0);
  const [selected, setSelected] = React.useState(null);
  const [score, setScore] = React.useState(0);
  const [showScore, setShowScore] = React.useState(false);
  const [timeLeft, setTimeLeft] = React.useState(15);
  const timerRef = React.useRef();

  React.useEffect(() => {
    if (showScore) return;
    if (timeLeft === 0) {
      handleNext();
      return;
    }
    timerRef.current = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);
    return () => clearTimeout(timerRef.current);
  }, [timeLeft, showScore]);

  const handleAnswer = (index) => {
    if (selected === null) {
      setSelected(index);
      if (index === questions[currentQ].answer) {
        setScore(score + 1);
      }
      // рзз рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗ ржкрж░ржмрж░рзНрждрзА ржкрзНрж░рж╢рзНржирзЗ ржпрж╛ржмрзЗ
      setTimeout(() => {
        handleNext();
      }, 100);
    }
  };

  const handleNext = () => {
    setSelected(null);
    setTimeLeft(15);
    if (currentQ + 1 < questions.length) {
      setCurrentQ(currentQ + 1);
    } else {
      setShowScore(true);
    }
  };

  const restartQuiz = () => {
    setCurrentQ(0);
    setSelected(null);
    setScore(0);
    setShowScore(false);
    setTimeLeft(15);
  };

  return (
     <RevealOnScroll>
    <div className="max-w-xl mx-auto bg-white rounded-lg p-6 shadow-lg relative">
      <button
        className="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-2xl"
        onClick={onClose}
        aria-label="Close Quiz"
      >
        &times;
      </button>

      {!showScore ? (
        <>
          <h3 className="text-2xl font-bold text-green-700 mb-4">
            ржкрзНрж░рж╢рзНржи {currentQ + 1} / {questions.length}
          </h3>
          <p className="mb-4 text-gray-800">{questions[currentQ].question}</p>

          <div className="space-y-3">
            {questions[currentQ].options.map((opt, i) => {
              const isCorrect = i === questions[currentQ].answer;
              const isSelected = i === selected;

              let bgColor = "bg-white hover:bg-green-100";
              if (selected !== null) {
                if (isCorrect) bgColor = "bg-green-300";
                else if (isSelected) bgColor = "bg-red-300";
                else bgColor = "bg-white";
              }

              return (
                <button
                  key={i}
                  disabled={selected !== null}
                  onClick={() => handleAnswer(i)}
                  className={`w-full text-left px-4 py-2 rounded border border-gray-300 transition ${bgColor}`}
                >
                  {opt}
                </button>
              );
            })}
          </div>

          <div className="flex justify-between items-center mt-6">
            <div className="text-lg font-semibold text-gray-700">
              рж╕ржорзЯ ржмрж╛ржХрж┐: <span className="text-red-600">{timeLeft}s</span>
            </div>
           
          </div>
        </>
      ) : (
        <div className="text-center">
          <h3 className="text-3xl font-bold text-green-700 mb-6">ржХрзБржЗржЬ рж╢рзЗрж╖</h3>
          <p className="text-lg mb-4">
            ржЖржкржирж╛рж░ рж╕рзНржХрзЛрж░: {score} / {questions.length}
          </p>
          <button
            onClick={restartQuiz}
            className="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded"
          >
            ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи
          </button>
        </div>
      )}
    </div>
    </RevealOnScroll>
  );
}

export default function IslamicQuizPage() {
  const [activeTopic, setActiveTopic] = useState(null);

  return (
      <RevealOnScroll>
    <div className="min-h-screen bg-gradient-to-br from-green-100 via-white to-green-50 px-4 py-10 mt-16">
      <h1 className="text-4xl md:text-5xl font-extrabold text-center text-green-700 mb-12">
        ЁЯУЪ ржЗрж╕рж▓рж╛ржорж┐ржХ ржХрзБржЗржЬ рж╕рзЗржирзНржЯрж╛рж░
      </h1>

      {!activeTopic ? (
        <div className="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
          {Object.keys(quizTopics).map((topic, idx) => (
            <div
              key={idx}
              onClick={() => setActiveTopic(topic)}
              className="bg-white border border-green-600 hover:border-green-400 shadow hover:shadow-xl transition-all duration-300 rounded-2xl p-6 cursor-pointer group"
            >
              <h2 className="text-xl md:text-2xl font-semibold text-green-700 group-hover:text-green-800 transition">
                {topic}
              </h2>
              <p className="text-sm text-gray-500 mt-2">
                ржПржЗ ржмрж┐рж╖рзЯрзЗрж░ ржкрзНрж░рж╢рзНржирзЗ ржирж┐ржЬрзЗрж░ ржЬрзНржЮрж╛ржи ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржиред
              </p>
              <div className="mt-4 text-sm text-green-600 group-hover:underline">
                ЁЯСЙ рж╢рзБрж░рзБ ржХрж░рзБржи
              </div>
            </div>
          ))}
        </div>
      ) : (
        <Quiz
          questions={quizTopics[activeTopic]}
          onClose={() => setActiveTopic(null)}
        />
      )}
    </div>
    </RevealOnScroll>
  );
}
